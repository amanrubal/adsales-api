<html>

<head>
    <script type="text/javascript">
        function callServer(path, data) {
            var d = new Date();
            var n = d.toLocaleString();
            var dataDiv = document.getElementById(path);
            dataDiv.innerHTML = "<h3>" + "Request " + n + "</h3>" + JSON.stringify(data);

            var http = new XMLHttpRequest();
            var url = "/" + path;
            var params = "data=" + JSON.stringify(data);
            http.open("POST", url, true);

            //Send the proper header information along with the request
            http.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
            http.setRequestHeader("Content-length", params.length);
            http.setRequestHeader("Connection", "close");

            http.onreadystatechange = function () {//Call a function when the state changes.
                if (http.readyState == 4 && http.status == 200) {
                    var dataDiv = document.getElementById(path);
                    dataDiv.innerHTML = dataDiv.innerHTML + "<h3>Response</h3>" + http.responseText;
                }
            }
            http.send(params);
        }

        function discoverRP() {
      

            var data = {
                "key": "rs2",
                "sp": "XYZ",
                "loc": "Barcelona",
                "lat": "41.385064",
                "long": "2.173403"
            };
            callServer("discoverRP", data);
        }

        function enterData() {
      

            var data = {
                "key":"rs8",
                "msisdn":"14691234568", 
                "name":"A",
                "address":"DALLAS",
                "ho":"ABC",
                "lat":"32.942746",
                "long":"-96.994838"
            };
            callServer("enterData", data);
        }

        function authentication() {
      
            var data = {
                "key": "rs2"
            };
            callServer("authentication", data);
        }

        function updateRates() {
            var data = {
                "key": "rs2"
            };
            callServer("updateRates", data);
        }

        function CallOut() {
           var data = {
                "key": "rs2",
                "destmsisdn": "14691234569",
            };
            callServer("CallOut", data);
        }

         function resetInventory() {
           var data = {
            };
            callServer("resetInventory", data);
        }

        function CallEnd() {
      
            var data = {
                "key": "rs2"
            };
            callServer("CallEnd", data);
        }

        function CallPay() {
      
            var data = {
                "key": "rs2"
            };
            callServer("CallPay", data);
        }

         function Overage() {
      
            var data = {
                "key": "rs2"
            };
            callServer("Overage", data);
        }

        function queryMSISDN() {
            var data = { "key": "rs2"};
            callServer("queryMSISDN", data);
        }
        function delayFunc() {
            var data={};
            callServer("delayFunc");
        }

     
    </script>
</head>

<body>
  

    <table border=1>
        <tr>
            <td valign=top> <input type="button" value="Discover RP" onclick="discoverRP();" /></td>
            <td>
                <div id="discoverRP"></div>
            </td>
        </tr>
        <tr>
            <td valign=top><input type="button" value="Authentication" onclick="authentication();" /></td>
            <td>
                <div id="authentication"></div>
            </td>
        </tr>
        <tr>
            <td valign=top><input type="button" value="Update Rates" onclick="updateRates();" /></td>
            <td>
                <div id="updateRates"></div>
            </td>
        </tr>
        <tr>
            <td valign=top><input type="button" value="Call Out" onclick="CallOut();" /></td>
            <td>
                <div id="CallOut"></div>
            </td>
        </tr>
        <tr>
            <td valign=top><input type="button" value="Call End" onclick="CallEnd();" /></td>
            <td>
                <div id="CallEnd"></div>
            </td>
        </tr>
        <tr>
            <td valign=top><input type="button" value="Call Pay" onclick="CallPay();" /></td>
            <td>
                <div id="CallPay"></div>
            </td>
        </tr>
        <tr>
            <td valign=top><input type="button" value="Overage" onclick="Overage();" /></td>
            <td>
                <div id="Overage"></div>
            </td>
        </tr>
        <tr>
            <td valign=top><input type="button" value="Query MSISDN" onclick="queryMSISDN();" /></td>
            <td>
                <div id="queryMSISDN"></div>
            </td>
        </tr>
        <tr>
            <td valign=top><input type="button" value="reset Inventory" onclick="resetInventory();" /></td>
            <td>
                <div id="resetInventory"></div>
            </td>
        </tr>
       <tr>
            <td valign=top><input type="button" value="Add User" onclick="enterData();" /></td>
            <td>
                <div id="enterData"></div>
            </td>
        </tr>
        <tr>
            <td valign=top><input type="button" value="Test Delay" onclick="delayFunc();" /></td>
            <td>
                <div id="delayFunc"></div>
            </td>
        </tr>
       <!-- <tr>
            <td valign=top><input type="button" value="Query TraceAdSpots: BroadcasterA" onclick="queryTraceAdSpots('BroadcasterA');" /><br>
                <input type="button" value="Query TraceAdSpots: Agency A" onclick="queryTraceAdSpots('AgencyA');" /><br>
                <input type="button" value="Query TraceAdSpots: Advertiser A" onclick="queryTraceAdSpots('AdvertiserA');" /><br>
                <input type="button" value="Query TraceAdSpots: Advertiser C" onclick="queryTraceAdSpots('AdvertiserC');" />
            </td>
            <td>
                <div id="queryTraceAdSpots"></div>
            </td>
        </tr>-->
    </table>
</body>

</html>